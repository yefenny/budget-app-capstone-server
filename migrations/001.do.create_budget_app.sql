CREATE TABLE users (
    id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    user_name VARCHAR (255) UNIQUE NOT NULL,
    name VARCHAR (225) NOT NULL,
    password VARCHAR (225) NOT NULL
);



CREATE TABLE income_categories (
    id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    title VARCHAR (255) NOT NULL
);

CREATE TABLE incomes (
    id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    user_id INTEGER REFERENCES users(id) ON DELETE CASCADE NOT NULL,
    date TIMESTAMP DEFAULT now() NOT NULL,
    description VARCHAR (255) NOT NULL,
    amount DOUBLE PRECISION NOT NULL,
    income_category_id INTEGER REFERENCES income_categories(id) ON DELETE CASCADE NOT NULL

);

CREATE TABLE expense_categories (
    id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    title VARCHAR (255) NOT NULL
);

CREATE TABLE expenses (
    id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    user_id INTEGER REFERENCES users(id) ON DELETE CASCADE NOT NULL,
    date TIMESTAMP DEFAULT now() NOT NULL,
    description VARCHAR (255) NOT NULL,
    amount DOUBLE PRECISION NOT NULL,
    expense_category_id INTEGER REFERENCES expense_categories(id) ON DELETE CASCADE NOT NULL

);


CREATE TABLE pancake (
  id INTEGER PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
  title TEXT NOT NULL,
  completed BOOLEAN DEFAULT FALSE
);

